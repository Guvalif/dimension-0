<!DOCTYPE html>

<html lang="ja">

<head>
  <!-- Basic Page Needs
  ========================================================================= -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dimension-0 Stock Database</title>

  <!-- Styles
  ========================================================================= -->
  <link rel="stylesheet" href="bulma.min.css" />
  <style>
    .table td, .table th {
      vertical-align: middle;
    }
  </style>

  <!-- Scripts
  ========================================================================= -->
  <script src="umbrella.min.js"></script>
  <script src="index.js"></script>
</head>

<body>
  <section class="section">
    <div class="content">
      <blockquote class="columns">
        <ul class="column is-half mb-0">
          <li><b>{{ update_date }}</b> 時点での情報です</li>
          <li>レアリティにおける <b>SS</b> は銀箔版を意味します</li>
          <li>購入をご希望の場合は、<a href="https://forms.gle/8CXNAGahFkHPWV8u9" target="_blank">Google フォーム</a> からご連絡ください</li>
          <ul class="my-1">
            <li>振込手数料や送料に関しては、ご負担のほどよろしくお願いいたします</li>
          </ul>
          <li>トレードをご希望の場合は、<a href="https://discord.com/channels/708764827522433074/710922077531537521" target="_blank">Discord</a> からご連絡ください</li>
        </ul>
        <div class="column is-half is-flex">
          <div style="width: 30%;" class="is-flex is-justify-content-center is-align-items-center">
            <span class="tag is-primary is-light is-size-6 is-size-7-mobile">合計<b id="total-price" class="mx-1">0</b>円</span>
          </div>
          <div style="width: 70%;" class="is-flex is-justify-content-center is-align-items-center">
            <button id="create-button" class="button is-primary is-size-7-mobile">出品リクエストを作成</button>
          </div>
        </div>
      </blockquote>
    </div>
  </section>

  <div class="is-flex is-justify-content-center">
    <table class="table is-striped">
      <thead>
        <tr>
          <th class="is-hidden-mobile">センチュリー</th>
          <th class="is-hidden-mobile">レアリティ</th>
          <th class="is-hidden-mobile">カード No.</th>
          <th class="is-hidden-mobile">大陸</th>
          <th>カード名</th>
          <th>状態</th>
          <th>価格 (円)</th>
          <th>余剰枚数</th>
          <th>希望枚数</th>
        </tr>
      </thead>
      <tbody id="stocks">
        {% for stock in stocks %}
          <tr
            id="stock-{{ loop.index0 }}"
            data-century="{{ stock.century }}"
            data-rarity="{{ stock.rarity }}"
            data-name="{{ stock.name }}"
            data-price="{{ stock.price }}"
          >
            <td class="is-hidden-mobile">{{ stock.century }}</td>
            <td class="is-hidden-mobile">{{ stock.rarity }}</td>
            <td class="is-hidden-mobile">{{ stock.number }}</td>
            <td class="is-hidden-mobile">{{ stock.color }}</td>
            <td><a href="{{ stock.url }}" target="_blank">{{ stock.name }}</a></td>
            <td>{{ stock.condition }}</td>
            <td>{{ '{:,}'.format(stock.price|int) }}</td>
            <td>{{ stock.surplus }}</td>
            <td>
              <input
                class="input" type="number" min="0" max="{{ stock.surplus }}" value="0"
                data-id="#stock-{{ loop.index0 }}"
              />
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</body>

</html>
